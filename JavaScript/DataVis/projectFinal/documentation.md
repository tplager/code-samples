# Documentation
## How I worked with the Data: 
First of all, I should mention where I found the dataset: https://github.com/oganm/dndstats. I believe it was acquired by someone who developed some tools for a mobile character sheet D&D application. They collected this data through that avenue and then used it to develope their own series of visualizations loosely based on a previous collaboration between FiveThirtyEight and Curse. The article that uses the same data as my own can be found at: https://oganm.github.io/dndstats/. The other article can be found at: https://fivethirtyeight.com/features/is-your-dd-character-rare/. 

As for how I actually worked with the data, based on my previous data cleaning experience, there wasn't nearly as much to do. The biggest issue was that there was just so much data and I didn't need all of it. As a result, I ended up sorting through a lot of it and deleting columns that I didn't really need. The original author also parsed the data some themselves so I had to go through both the parsed and unparsed columns so that I could make sure it wasn't cleaned in a way that hurt my data's accuracy. I did end up having to fix some spelling mistakes with race spellings. Beyond that, as I already mentioned a lot of the work I did was eliminating data, especially duplicate data, of which there was a lot. 

In my parsing function I did have to parse numbers of course, I also had to make a few of the entries into arrays instead of just 1 entry. 

## What I analyzed about the data in terms of data variables and how that informed my choice of visualization: 
When first analyzing the data, I think the most interesting thing I wanted to look at, at least at first, was the class column, especially multi-class combinations. The largest problem with this, and the entire dataset as a whole really, is that it was acquired from users and some of it is direct text input. This is somewhat a result of the nature of D&D, but it is worth mentioning. As a result there are undoudtedly some combinations that don't really make sense. 

Later, I also ended up adding elements to my visualization for the race of the character and for other statistics because I felt like it made the visualization more exploratory, useful, and interesting. This also makes it interesting because you can see class combinations vs race. 

## What channels and marks are in use and why: 
Marks: 
* Points of various sizes 
* Connection (not shown by lines but rather by proximity)

Channels: 
* Position
* Area
* Color

As for why I used these marks and channels, after looking at the earlier mentioned articles, I determined that using a series of graphs or a regular bar chart would likely not be very interesting. As a result, I decided to do another node force diagram (I also have really been enjoying this type of visualization since working on it for my refletions). For this type of diagram, points are almost essential. I decided not to use lines to show connection simply because I felt that it would clog up the diagram and make it harder to understand, simply because there's so many points. I think it still works fairly well because position and color are pretty clear indicators of which nodes are connected based on class and race. Area is also used to distinguish between race and class colored circles. 

## What scales and axes are in use and why: 
There aren't really any scales or axes directly in use. There are 3 scales in my code but they're all ordinal scales that map directly from either a class or a race to either a color or an angle (for class position). These just make it easier to retrieve the right color for filling the nodes. 

## What other information did I use and why: 
The only other information I used really was legends. I have 2 legends in my visualization. One legend is for classes because, though there is a tooltip that indicates classes, I thought it would be better to have the legend as well. I also have a legend for races that shows up when you're zoomed in enough for the race circles in the center of the nodes to show up. Once again, though the tooltip does show this, I think it makes it easier. Both legends also have cellclick behavior so that you can click on that entry and it focuses zoom and moves all nodes of that type together. 

## What are the interactions in the visualization and why: 
The interaction in the visualization is pretty common for node diagrams I think. It of course has drag behavior so that you can move things out of the way if needed. A lot of the other interaction uses zoom. You can click on a node to zoom in on that class. The force also pulls all nodes of that class together so you can easier see multi-class combinations involving that class. The class legend also has this behavior. The race legend has similar behavior, but the nodes themselves do not. However, when clicked the race legend instead moves zoom to the center and pulls all nodes of that race to the center. You can also double click on the background to return zoom to its starting place and move all the nodes back to their starting positions (or at least near them). There is also hover behavior on the nodes. While zoomed out, it just shows the class(es) of the node. When zoomed in though it shows much more information such as ability scores, modifiers, background, alignment. This allows the user to explore the nodes that have the same class or race and find similarities between them or at least find common combinations. 

## My development process: 
Overall, my development process was pretty good. I wasn't able to start until the beginning of week 15 because I had other projects that I had to work on, but I worked on it with basically all of my time that week. Considering that, I think it turned out pretty good. It took me a while to find the dataset because I initially wasn't sure what dataset I wanted to look for (that's another reason I waited so long to start). Because of COVID-19 though I've finally been able to start getting into D&D so when I found this dataset I knew I could make an interesting dataset. After finding the dataset, I opened it in openrefine and started cleaning it. Like I mentioned earlier, a lot of the data was duplicated so I had to go through and delete quite a bit to make it easier to parse. I also had to change some of the data to the form I wanted it to be in such as alignment. It was originally in two letter form and I wanted the words to make it easier for people not super familiar with D&D. As for the actual visualization, I started with the base code from my reflections. Then I took out code for the edges because I'd already decided that making them visible was going to be super unecessary and would make the visualization much harder to understand. Then, I started working on making the actual code for making the nodes appear. This was interesting with multi-class nodes because I wanted them all to be visible. I ended up having to use paths to make circles with sections. In short, I was able to make use of my experience with trig. I spent most of the time early on editing the forces so that I could get the nodes to separate how I wanted them to, and so that all nodes of that class (even multi-class) would go to that location when needed. After finishing that, I spent some time adding race circles. This didn't take as long because each character can only have 1 race. I did have to change some of the code for the class circles because the 3 and 4 class classes weren't centered. Then I used Photoshop to create the background for the zoomed in tooltip. I did also spend quite a bit of time working with zoom too, and getting it to behave how I wanted it to. Beyond that, the only thing I'm still not really sure about is the drag behavior. I actually had it disabled for most of the project because I wasn't sure it was necessary. I did end up adding it back in though because I think it is almost a necessary behavior with this type of diagram. Users want to be able to drag things around. I also worked on separating my code into multiple files quite a bit. I'm actually really happy with how much I was able to modulate and separate my code. 

## Overall project experience: 
Overall, I really enjoyed this project. It was a really good capstone for me on a class that I wasn't originally sure I would enjoy that much, but that I actually ended up really enjoying. I found some really interesting trends in the data (like how many people make Half-Elf characters). And, as I've already said I've really started to enjoy node diagrams so it was fun getting to create another one that is a bit more different than the others I've made, and that has many more nodes. I think there's actually over 1000 nodes in the visualization which actually ended up causing some problems because my browswer kept crashing when I tried to debug things. 

### Image Sources: 
* Parchment: https://www.freepik.com/free-photos-vectors/parchment
    * https://www.google.com/search?q=parchment+background&rlz=1C1CHBD_enUS878US878&sxsrf=ALeKk02PqmlbFPhx_Nkxik8gJE7ZaE4BJw:1587671641296&tbm=isch&source=iu&ictx=1&fir=NivjphdPIXDisM%253A%252CKMVAVr0sbue6WM%252C_&vet=1&usg=AI4_-kRlqcpWJ9rpEMx3FbQwn4Y0wgDYYQ&sa=X&ved=2ahUKEwj848vhqf_oAhWmlnIEHb-0CroQ9QEwAHoECAoQMA#imgrc=NivjphdPIXDisM:
* Fantasy Frame: https://www.123rf.com/photo_13217033_fantasy-frame.html
    * https://www.google.com/search?q=fantasy+frame&tbm=isch&ved=2ahUKEwi0iYC3rP_oAhVIGt8KHV58AfMQ2-cCegQIABAA&oq=fantasy+frame&gs_lcp=CgNpbWcQAzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADoECAAQQzoFCAAQgwFQ-2hYunZgjXdoAHAAeACAAUuIAa8GkgECMTKYAQCgAQGqAQtnd3Mtd2l6LWltZw&sclient=img&ei=JfWhXvTiEMi0_Abe-IWYDw&bih=1298&biw=2560&rlz=1C1CHBD_enUS878US878#imgrc=quWlzhz7maaLdM
* D&D Sheet: https://www.wowhead.com/news=286204/matthew-mercers-d-d-character-sheets-for-wow-classes
    * https://www.google.com/search?q=d%26d+character+sheet+stats+blank&tbm=isch&ved=2ahUKEwiIn4LFqf_oAhUDLN8KHeMjDyYQ2-cCegQIABAA&oq=d%26d+character+sheet+stats+blank&gs_lcp=CgNpbWcQAzoECAAQHlDgBFjYCmD4C2gAcAB4AIABRIgB_AKSAQE2mAEAoAEBqgELZ3dzLXdpei1pbWc&sclient=img&ei=HfKhXsicFoPY_Abjx7ywAg&bih=1298&biw=2560&rlz=1C1CHBD_enUS878US878#imgrc=OIecgQRx7-FOlM